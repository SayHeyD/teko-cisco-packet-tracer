# Commands for the Cisco 4331 Router

## ToC

* [Explaining Shell Prompts](#explaining-shell-prompts)
* [Privileged Mode](#privileged-mode)
* [Saving Changes](#saving-changes)
* [Configuration Mode](#configuration-mode)
* [Reload Config](#reload-config)
* [The Exit Command](#the-exit-command)
* [Set Password](#set-password)

## Explaining Shell Prompts

The shell prompt is the text that the CLI shows to the user. As an example a prompt
can look like this:

```shell
Router>
```

or this:

```shell
Router#
```

or this:

```shell
Router(config-vlan)#
```

In the following document, please pay close attention to the prompt, as it shows in
which mode you currently are and what you are currently configuring.

## Privileged Mode

If the prompt shows:

```shell
Router>
```

You are in unprivileged mode. But if it shows a `#` at the end you are in privileged mode:

```shell
Router#
```

To enter privileged mode, use the following command:

```shell
enable
```

If a password is set, you should now be prompted to enter it. After typing it confirm
with the "Enter" key.

## Saving changes

To save configured changes, you have to copy the `running-config` file to the `startup-config` file.
This must be done in [privileged mode](#privileged-mode).

```shell
copy running-config startup-config
```

The prompt should now ask you for the filename, which you can just confirm by pressing
the "Enter" key, because we have already specified it. Check the value in the brackets
(`[` `]`) before confirming.

```shell
Destination filename [startup-config]? 
```

After completion, the CLI should show something like this:

```shell
Router#copy running-config startup-config
Destination filename [startup-config]? 
Building configuration...
[OK]
```

## Configuration Mode

To change most settings in the router configuration, you must enter the configuration
mode. This can be achieved by:

1. Entering [privileged mode](#privileged-mode)
2. Enter configuration mode
```shell
configure terminal
```

> [!TIP]
> You can also use `configure t` to enter configuration mode

The prompt should now show `Router(config)#`

## Reload Config

If you want to reload the router configuration, either because you did something
and want to revert your unsaved changes or if you want to make sure our changes have
been saved correctly. You can use the `reload` command in [privileged mode](#privileged-mode):

```shell
reload
```

## The Exit Command

If you want to exit a configuration mode or privileged mode, or any other mode really,
you can use the exit command:

```shell
exit
```

For example, if you are in [privileged mode](#privileged-mode), you can exit to unprivileged mode:

```shell
Router# exit
Router> 
```

## Set Password

1. Be sure to be in [privileged mode](#privileged-mode). The CLI should show the prompt `Router#`.
2. Enter [configuration mode](#configuration-mode)
3. The prompt should now show `Router(config)#`
4. ```shell
   # Set Password
   enable secret <PASSWORD>
   
   # Exit configuration mode
   exit
   ```
5. Now [save the changes](#saving-changes) and [reload](#reload-config) the router.
6. After the reload you can test the password. The CLI should now show the prompt `Router>`.
7. ```shell
   # Enter privileged mode
   enable
   ```
8. Now enter your Password when prompted.

# Configure VLAN Interfaces

1. Be sure to be in [privileged mode](#privileged-mode). The CLI should show the prompt `Switch#`.
2. Enter [configuration mode](#configuration-mode)
3. The prompt should now show `Router(config)#`
4. Select Interface to configure and shut it down
   ```shell
   interface GigabitEthernet0/0/0
   shutdown
   exit
   ```
5. Create a subinterface for each VLAN ID
   ```shell
   # Create subinterface (choosing the same subinterface ID as the assigned VLAN)
   interface GigabitEthernet0/0/0.10
   # Configure which vlan id that should be added to the ethernet frame (802.1Q encapsulation)
   encapsulation dot1Q 10
   # Set subinterface IP address and subnetmask
   ip address 192.168.10.1 255.255.255.0
   exit
   ```
6. Alternatively, you can configure the VLAN to be in untagged mode
   ```shell
   # Create subinterface (choosing the same subinterface ID as the assigned VLAN)
   interface GigabitEthernet0/0/0.10
   # Configure which vlan id that should be added to the ethernet frame (802.1Q encapsulation)
   encapsulation dot1Q 10 native
   # Set subinterface IP address and subnetmask
   ip address 192.168.10.1 255.255.255.0
   exit
   ```
7. Repeat this for all required VLANs
8. Enable the physical interface
   ```shell
   interface GigabitEthernet0/0/0
   no shutdown
   ```
9. Now [save the changes](#saving-changes)
